{
  "pluginType": "JS",
  "pluginId": "js-plugin",
  "unpublishedAction": {
    "name": "myFun1",
    "fullyQualifiedName": "set_container_content.myFun1",
    "datasource": {
      "name": "UNUSED_DATASOURCE",
      "pluginId": "js-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Database Upgrade",
    "collectionId": "Database Upgrade_set_container_content",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "(query,queryParam,tablename) => {\n\t\n\t\tlet record = query.data[0];\n\t\tif(_.isEmpty(queryParam)){\n\t\t\tif(tablename == \"customers\"){\n\t\t\t\treturn `<div><h2 style=\"text-align:center;\">Customer#${record.customer_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Customer Name:</b></span> ${record.title} ${record.forename} ${record.surname}</p> \n\t\t<p><span style=\"font-size:16px\"><b>Address:</b></span> ${record.building} ${record.street} ${record.town}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Postcode:</b></span> ${record.postcode} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Mobile Number: </b></span>${record.mobile != \"\" ? record.mobile : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>E-mail Address: </b></span>${record.email != \"\" ? record.email : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created at: ${record.created}</b></span></p>\n\t\t<p><span style=\"font-size:16px\"><b>Reminders enabled: </b></span>${record.reminders_enabled === 1 ? \"Yes\" : \"No\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived: </b></span>${record.archive === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\n\t\t\t}\n\t\t\telse if(tablename ==\"properties\"){\n\t\t\t\treturn `<div><h2 style=\"text-align:center;\">Property ID: ${record.property_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Customer ID: </b></span>${record.customer_id}</p> \n\t\t<p><span style=\"font-size:16px\"><b>Address:</b></span> ${record.building} ${record.street} ${record.town}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Postcode:</b></span> ${record.postcode} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Tenant Mobile Number: </b></span>${record.installphone != \"\" ? record.installphone : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Tenant E-mail Address: </b></span>${record.email != \"\" ? record.email : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created at: </b></span>${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Gas Due Date: </b></span>${record.gsexpiry}</p>\n\t\t</div>`\n\t\t\n\t\t\t}\n\t\t\telse if(tablename == \"jobs\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Job#${record.job_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Property#:</b></span>${record.property_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job no: </b></span>${record.jobno}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job Description: </b></span>${record.description}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created on:</b></span> ${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Last modified:</b></span> ${record.modified} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Invoiced:</b></span> ${record.invoiced === 1 ? \"Yes\" : \"No\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\t\t\n\t\t</div>`\n\t\t\t}\n\t\t\telse if(tablename == \"appliances\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Gas Appliance#${record.appliance_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Property#</b></span> ${record.property_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Type#</b></span>${record.appliancetype_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Make#</b></span>${record.appliancemake_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Model#</b></span>${record.appliancemodel_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Localtion#</b></span>${record.appliancelocation_id}</p>\t\n\t\t<p><span style=\"font-size:16px\"><b>Serial Number:</b></span> ${record.serialnumber}</p>\n\t\t<p><span style=\"font-size:16px\"><b>GCN:</b></span> ${record.gcn} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\t\t\t}\n\t\t\t\telse if(tablename == \"invoices\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Invoice#${record.invoice_id} <button style=\"margin:3px;padding:5px;border:1px solid color; background-color:green; color:white\"><a href=\"${record.pdf} target=\"_blank\">View PDF</a></button></h2>\n\t\t<p><span style=\"font-size:16px\"><b>Invoice no#</b></span> ${record.invoiceno}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Issued on: </b></span> ${record.dateissued}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Customer#</b></span> ${record.customer_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job#</b></span>${record.job_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Email#</b></span>${record.email_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created on:</b></span> ${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Last modified:</b></span> ${record.modified} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Issued: </b></span>${record.issued === 1 ? \"Yes\" : \"No\"}</p>\t\n\t\t<p><span style=\"font-size:16px\"><b>Total Amount:</b></span> ${record.totalamount}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Amount Paid:</b></span> ${record.amtpaid} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\t\t\t}\n\t\t\n\t\t}\n\t}",
      "jsArguments": [
        {
          "name": "query"
        },
        {
          "name": "queryParam"
        },
        {
          "name": "tablename"
        }
      ],
      "isAsync": false
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [
      "(query,queryParam,tablename) => {\n\t\n\t\tlet record = query.data[0];\n\t\tif(_.isEmpty(queryParam)){\n\t\t\tif(tablename == \"customers\"){\n\t\t\t\treturn `<div><h2 style=\"text-align:center;\">Customer#${record.customer_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Customer Name:</b></span> ${record.title} ${record.forename} ${record.surname}</p> \n\t\t<p><span style=\"font-size:16px\"><b>Address:</b></span> ${record.building} ${record.street} ${record.town}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Postcode:</b></span> ${record.postcode} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Mobile Number: </b></span>${record.mobile != \"\" ? record.mobile : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>E-mail Address: </b></span>${record.email != \"\" ? record.email : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created at: ${record.created}</b></span></p>\n\t\t<p><span style=\"font-size:16px\"><b>Reminders enabled: </b></span>${record.reminders_enabled === 1 ? \"Yes\" : \"No\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived: </b></span>${record.archive === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\n\t\t\t}\n\t\t\telse if(tablename ==\"properties\"){\n\t\t\t\treturn `<div><h2 style=\"text-align:center;\">Property ID: ${record.property_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Customer ID: </b></span>${record.customer_id}</p> \n\t\t<p><span style=\"font-size:16px\"><b>Address:</b></span> ${record.building} ${record.street} ${record.town}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Postcode:</b></span> ${record.postcode} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Tenant Mobile Number: </b></span>${record.installphone != \"\" ? record.installphone : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Tenant E-mail Address: </b></span>${record.email != \"\" ? record.email : \"-\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created at: </b></span>${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Gas Due Date: </b></span>${record.gsexpiry}</p>\n\t\t</div>`\n\t\t\n\t\t\t}\n\t\t\telse if(tablename == \"jobs\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Job#${record.job_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Property#:</b></span>${record.property_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job no: </b></span>${record.jobno}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job Description: </b></span>${record.description}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created on:</b></span> ${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Last modified:</b></span> ${record.modified} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Invoiced:</b></span> ${record.invoiced === 1 ? \"Yes\" : \"No\"}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\t\t\n\t\t</div>`\n\t\t\t}\n\t\t\telse if(tablename == \"appliances\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Gas Appliance#${record.appliance_id}</h2>\n\t\t<p><span style=\"font-size:16px\"><b>Property#</b></span> ${record.property_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Type#</b></span>${record.appliancetype_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Make#</b></span>${record.appliancemake_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Model#</b></span>${record.appliancemodel_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Appliance Localtion#</b></span>${record.appliancelocation_id}</p>\t\n\t\t<p><span style=\"font-size:16px\"><b>Serial Number:</b></span> ${record.serialnumber}</p>\n\t\t<p><span style=\"font-size:16px\"><b>GCN:</b></span> ${record.gcn} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\t\t\t}\n\t\t\t\telse if(tablename == \"invoices\"){\n\t\t\t\treturn`<div><h2 style=\"text-align:center;\">Invoice#${record.invoice_id} <button style=\"margin:3px;padding:5px;border:1px solid color; background-color:green; color:white\"><a href=\"${record.pdf} target=\"_blank\">View PDF</a></button></h2>\n\t\t<p><span style=\"font-size:16px\"><b>Invoice no#</b></span> ${record.invoiceno}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Issued on: </b></span> ${record.dateissued}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Customer#</b></span> ${record.customer_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Job#</b></span>${record.job_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Email#</b></span>${record.email_id}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Created on:</b></span> ${record.created}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Last modified:</b></span> ${record.modified} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Issued: </b></span>${record.issued === 1 ? \"Yes\" : \"No\"}</p>\t\n\t\t<p><span style=\"font-size:16px\"><b>Total Amount:</b></span> ${record.totalamount}</p>\n\t\t<p><span style=\"font-size:16px\"><b>Amount Paid:</b></span> ${record.amtpaid} </p>\n\t\t<p><span style=\"font-size:16px\"><b>Archived:</b></span> ${record.archived === 1 ? \"Yes\" : \"No\"}</p>\n\t\t</div>`\n\t\t\t}\n\t\t\n\t\t}\n\t}"
    ],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "Database Upgrade_myFun1",
  "deleted": false,
  "gitSyncId": "622f3128c34ae834fa67dca8_62692160c34ae834fa67ddf2"
}